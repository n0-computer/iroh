<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A ticket is a serializable object combining information required for an operation."><title>Ticket in iroh_base::ticket - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-b21aa549bf6d91ff.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="iroh_base" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0-nightly (c987ad527 2024-05-01)" data-channel="nightly" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-e32f0c247825364d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../iroh_base/index.html">iroh_base</a><span class="version">0.29.0</span></h2></div><h2 class="location"><a href="#">Ticket</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-consts">Required Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.KIND">KIND</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.from_bytes">from_bytes</a></li><li><a href="#tymethod.to_bytes">to_bytes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.deserialize">deserialize</a></li><li><a href="#method.serialize">serialize</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In iroh_base::ticket</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../iroh_base/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">iroh_base</a>::<wbr><a href="index.html">ticket</a>::<wbr><a class="trait" href="#">Ticket</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/iroh_base/ticket.rs.html#26-55">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Ticket: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    const <a href="#associatedconstant.KIND" class="constant">KIND</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>;

    // Required methods
    fn <a href="#tymethod.to_bytes" class="fn">to_bytes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.from_bytes" class="fn">from_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.Error.html" title="enum iroh_base::ticket::Error">Error</a>&gt;;

    // Provided methods
    fn <a href="#method.serialize" class="fn">serialize</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.deserialize" class="fn">deserialize</a>(str: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.Error.html" title="enum iroh_base::ticket::Error">Error</a>&gt; { ... }
}</code></pre><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>base32</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A ticket is a serializable object combining information required for an operation.</p>
<p>Typically tickets contain all information required for an operation, e.g. an iroh blob
ticket would contain the hash of the data as well as information about how to reach the
provider.</p>
<p>Tickets support serialization to a string using base32 encoding. The kind of
ticket will be prepended to the string to make it somewhat self describing.</p>
<p>Versioning is left to the implementer. Some kinds of tickets might need
versioning, others might not.</p>
<p>The serialization format for converting the ticket from and to bytes is left
to the implementer. We recommend using <a href="https://docs.rs/postcard/latest/postcard/">postcard</a> for serialization.</p>
</div></details><h2 id="required-associated-consts" class="section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedconstant.KIND" class="method"><a class="src rightside" href="../../src/iroh_base/ticket.rs.html#30">source</a><h4 class="code-header">const <a href="#associatedconstant.KIND" class="constant">KIND</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a></h4></section></summary><div class="docblock"><p>String prefix describing the kind of iroh ticket.</p>
<p>This should be lower case ascii characters.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.to_bytes" class="method"><a class="src rightside" href="../../src/iroh_base/ticket.rs.html#33">source</a><h4 class="code-header">fn <a href="#tymethod.to_bytes" class="fn">to_bytes</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h4></section></summary><div class="docblock"><p>Serialize to bytes used in the base32 string representation.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.from_bytes" class="method"><a class="src rightside" href="../../src/iroh_base/ticket.rs.html#36">source</a><h4 class="code-header">fn <a href="#tymethod.from_bytes" class="fn">from_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.Error.html" title="enum iroh_base::ticket::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Deserialize from the base32 string representation bytes.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.serialize" class="method"><a class="src rightside" href="../../src/iroh_base/ticket.rs.html#39-43">source</a><h4 class="code-header">fn <a href="#method.serialize" class="fn">serialize</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></h4></section></summary><div class="docblock"><p>Serialize to string.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.deserialize" class="method"><a class="src rightside" href="../../src/iroh_base/ticket.rs.html#46-54">source</a><h4 class="code-header">fn <a href="#method.deserialize" class="fn">deserialize</a>(str: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.Error.html" title="enum iroh_base::ticket::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Deserialize from a string.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-Ticket-for-BlobTicket" class="impl"><a class="src rightside" href="../../src/iroh_base/ticket/blob.rs.html#37-50">source</a><a href="#impl-Ticket-for-BlobTicket" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Ticket.html" title="trait iroh_base::ticket::Ticket">Ticket</a> for <a class="struct" href="struct.BlobTicket.html" title="struct iroh_base::ticket::BlobTicket">BlobTicket</a></h3><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>key</code></strong> only.</div></span></section></summary><div class="impl-items"><section id="associatedconstant.KIND-1" class="associatedconstant trait-impl"><a class="src rightside" href="../../src/iroh_base/ticket/blob.rs.html#38">source</a><a href="#associatedconstant.KIND-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.KIND" class="constant">KIND</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a> = &quot;blob&quot;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Ticket-for-NodeTicket" class="impl"><a class="src rightside" href="../../src/iroh_base/ticket/node.rs.html#42-55">source</a><a href="#impl-Ticket-for-NodeTicket" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Ticket.html" title="trait iroh_base::ticket::Ticket">Ticket</a> for <a class="struct" href="struct.NodeTicket.html" title="struct iroh_base::ticket::NodeTicket">NodeTicket</a></h3><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>key</code></strong> only.</div></span></section></summary><div class="impl-items"><section id="associatedconstant.KIND-2" class="associatedconstant trait-impl"><a class="src rightside" href="../../src/iroh_base/ticket/node.rs.html#43">source</a><a href="#associatedconstant.KIND-2" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.KIND" class="constant">KIND</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a> = &quot;node&quot;</h4></section></div></details></div><script src="../../trait.impl/iroh_base/ticket/trait.Ticket.js" async></script></section></div></main></body></html>